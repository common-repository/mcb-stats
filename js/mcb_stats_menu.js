jQuery(document).ready(function(e){window.location.origin||(window.location.origin=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:""));var c="localhost"==window.location.hostname?window.location.protocol+"//"+window.location.hostname+"/"+window.location.pathname.split("/")[1]:window.location.origin;jQuery(document).on("click","#save_settings",function(a){a.preventDefault();a=!1;jQuery("#check_save_time_in_page").is(":checked")&&(a=!0);var b=jQuery("#text_save_time_in_page").val();
0===Number(b)%1&&(0===Number(b)&&(b=60),a={check_save_time_in_page:a,text_save_time_in_page:parseInt(b)},jQuery.post(c+"/wp-admin/admin-ajax.php",{action:"save_mcb_stats_sttings",data:a},function(a){1==a&&alert("Data saved correctly")}))});jQuery(document).on("click","#reset-all",function(a){a.preventDefault();confirm("Are you sure you want to delete all data registered?")&&jQuery.post(c+"/wp-admin/admin-ajax.php",{action:"reset_data_mcb_stats"},function(a){1==a&&alert("Data reset correctly")})});
jQuery(function(){function a(a){var d;try{d=e.datepicker.parseDate("dd/mm/yy",a.value)}catch(g){d=null}return d}from=jQuery("#from").datepicker({dateFormat:"dd/mm/yy"}).on("change",function(){to.datepicker("option","minDate",a(this))});to=jQuery("#to").datepicker({dateFormat:"dd/mm/yy"}).on("change",function(){from.datepicker("option","maxDate",a(this))})});var f=jQuery("#grid").DataTable({dom:'Blfrtip',buttons:{buttons:[{extend:"copy",className:"button"},{extend:"csv",className:"button"},{extend:"excel",className:"button"},
{extend:"pdf",className:"button"},{extend:"print",className:"button"}]},scrollX:!0,scrollCollapse:!0,fixedColumns:!1,order:[[0,"desc"]],data:null,columns:[{title:"ID"},{title:"ID user"},{title:"Name"},{title:"Email"},{title:"ID post"},{title:"Title post"},{title:"Type post"},{title:"Actual url"},{title:"Action"},{title:"Link action url"},{title:"Date"},{title:"Time in page"},{title:"IP"},{title:"Browser"},{title:"Platform"},{title:"Usert Agent"}]});jQuery("a.toggle-vis").on("click",function(a){a.preventDefault();
a=f.column(jQuery(this).attr("data-column"));a.visible(!a.visible());jQuery(this).toggleClass("active")});jQuery("input:radio[name=data]").on("click",function(a){2==this.value?jQuery("#div-from-to").show(0):jQuery("#div-from-to").hide(0)});jQuery("#generate-grid").on("click",function(a){a.preventDefault();if(2==jQuery("input:radio[name=data]:checked").val()){a=jQuery("#from").val();var b=jQuery("#to").val();jQuery.post(c+"/wp-admin/admin-ajax.php",{action:"get_data_mcb_stats",from:a,to:b},function(a){a=
JSON.parse(a);jQuery("#grid").dataTable().fnClearTable();"undefined"!==typeof a&&0<a.length&&jQuery("#grid").dataTable().fnAddData(a)})}else jQuery.post(c+"/wp-admin/admin-ajax.php",{action:"get_data_mcb_stats",from:null,to:null},function(a){a=JSON.parse(a);jQuery("#grid").dataTable().fnClearTable();"undefined"!==typeof a&&0<a.length&&jQuery("#grid").dataTable().fnAddData(a)})})});